semantic-search-tests:
-   query: EXPLAIN select docId, title from documents where zone = 'zone1' and bookshelf
        = 'fiction' and row_number() over (partition by zone, bookshelf order by euclidean_distance(embedding,
        ?) asc) <= 1
    explain: 'ISCAN(DOCUMENTSEUCLIDEANINDEX [EQUALS promote(@c10 AS STRING), EQUALS
        promote(@c14 AS STRING)]:{DISTANCE_RANK_LESS_THAN_OR_EQUAL @c32: @c38}:[]
        BY_DISTANCE) | MAP (_.DOCID AS DOCID, _.TITLE AS TITLE)'
    task_count: 225
    task_total_time_ms: 167
    transform_count: 69
    transform_time_ms: 128
    transform_yield_count: 25
    insert_time_ms: 7
    insert_new_count: 20
    insert_reused_count: 1
-   query: EXPLAIN select docId from documents where zone = 'zone1' and bookshelf
        = 'fiction' and row_number() over (partition by zone, bookshelf order by euclidean_distance(embedding,
        ?) asc) <= 3
    explain: 'ISCAN(DOCUMENTSEUCLIDEANINDEX [EQUALS promote(@c8 AS STRING), EQUALS
        promote(@c12 AS STRING)]:{DISTANCE_RANK_LESS_THAN_OR_EQUAL @c30: @c36}:[]
        BY_DISTANCE) | MAP (_.DOCID AS DOCID)'
    task_count: 225
    task_total_time_ms: 27
    transform_count: 69
    transform_time_ms: 16
    transform_yield_count: 25
    insert_time_ms: 1
    insert_new_count: 20
    insert_reused_count: 1
-   query: EXPLAIN select docId from documents where zone = 'zone1' and bookshelf
        = 'science' and row_number() over (partition by zone, bookshelf order by euclidean_distance(embedding,
        ?) asc options ef_search = 100) <= 2
    explain: 'ISCAN(DOCUMENTSEUCLIDEANINDEX [EQUALS promote(@c8 AS STRING), EQUALS
        promote(@c12 AS STRING)]:{DISTANCE_RANK_LESS_THAN_OR_EQUAL @c30: @c40}:[]
        BY_DISTANCE) | MAP (_.DOCID AS DOCID)'
    task_count: 225
    task_total_time_ms: 27
    transform_count: 69
    transform_time_ms: 16
    transform_yield_count: 25
    insert_time_ms: 1
    insert_new_count: 20
    insert_reused_count: 1
-   query: EXPLAIN select docId from documents where zone = 'zone1' and bookshelf
        = 'science' and row_number() over (partition by zone, bookshelf order by euclidean_distance(embedding,
        ?) asc options ef_search = 200) < 3
    explain: 'ISCAN(DOCUMENTSEUCLIDEANINDEX [EQUALS promote(@c8 AS STRING), EQUALS
        promote(@c12 AS STRING)]:{DISTANCE_RANK_LESS_THAN @c30: @c39}:[] BY_DISTANCE)
        | MAP (_.DOCID AS DOCID)'
    task_count: 225
    task_total_time_ms: 21
    transform_count: 69
    transform_time_ms: 12
    transform_yield_count: 25
    insert_time_ms: 1
    insert_new_count: 20
    insert_reused_count: 1
-   query: EXPLAIN select docId from documents where zone = 'zone2' and bookshelf
        = 'fiction' and row_number() over (partition by zone, bookshelf order by euclidean_distance(embedding,
        ?) asc) < 2
    explain: 'ISCAN(DOCUMENTSEUCLIDEANINDEX [EQUALS promote(@c8 AS STRING), EQUALS
        promote(@c12 AS STRING)]:{DISTANCE_RANK_LESS_THAN @c30: @c35}:[] BY_DISTANCE)
        | MAP (_.DOCID AS DOCID)'
    task_count: 225
    task_total_time_ms: 17
    transform_count: 69
    transform_time_ms: 10
    transform_yield_count: 25
    insert_time_ms: 1
    insert_new_count: 20
    insert_reused_count: 1
-   query: EXPLAIN select docId from documents where zone = 'zone1' and bookshelf
        = 'fiction' and row_number() over (partition by zone, bookshelf order by cosine_distance(embedding,
        ?) asc) <= 2
    explain: 'ISCAN(DOCUMENTSCOSINEINDEX [EQUALS promote(@c8 AS STRING), EQUALS promote(@c12
        AS STRING)]:{DISTANCE_RANK_LESS_THAN_OR_EQUAL @c30: @c36}:[] BY_DISTANCE)
        | MAP (_.DOCID AS DOCID)'
    task_count: 225
    task_total_time_ms: 14
    transform_count: 69
    transform_time_ms: 9
    transform_yield_count: 25
    insert_time_ms: 0
    insert_new_count: 20
    insert_reused_count: 1
-   query: EXPLAIN select docId from documents where zone = 'zone1' and bookshelf
        = 'science' and row_number() over (partition by zone, bookshelf order by cosine_distance(embedding,
        ?) asc options ef_search = 150) <= 3
    explain: 'ISCAN(DOCUMENTSCOSINEINDEX [EQUALS promote(@c8 AS STRING), EQUALS promote(@c12
        AS STRING)]:{DISTANCE_RANK_LESS_THAN_OR_EQUAL @c30: @c40}:[] BY_DISTANCE)
        | MAP (_.DOCID AS DOCID)'
    task_count: 225
    task_total_time_ms: 13
    transform_count: 69
    transform_time_ms: 8
    transform_yield_count: 25
    insert_time_ms: 0
    insert_new_count: 20
    insert_reused_count: 1
-   query: EXPLAIN select docId from documents where zone = 'zone2' and bookshelf
        = 'science' and row_number() over (partition by zone, bookshelf order by euclidean_distance(embedding,
        ?) asc) <= 1
    explain: 'ISCAN(DOCUMENTSEUCLIDEANINDEX [EQUALS promote(@c8 AS STRING), EQUALS
        promote(@c12 AS STRING)]:{DISTANCE_RANK_LESS_THAN_OR_EQUAL @c30: @c36}:[]
        BY_DISTANCE) | MAP (_.DOCID AS DOCID)'
    task_count: 225
    task_total_time_ms: 27
    transform_count: 69
    transform_time_ms: 16
    transform_yield_count: 25
    insert_time_ms: 1
    insert_new_count: 20
    insert_reused_count: 1
-   query: EXPLAIN select docId, title, euclidean_distance(embedding, ?) as dist from
        documents where zone = 'zone1' and bookshelf = 'fiction' and row_number()
        over (partition by zone, bookshelf order by euclidean_distance(embedding,
        ?) asc) <= 1
    explain: 'ISCAN(DOCUMENTSEUCLIDEANINDEX [EQUALS promote(@c19 AS STRING), EQUALS
        promote(@c23 AS STRING)]:{DISTANCE_RANK_LESS_THAN_OR_EQUAL @c41: @c47}:[]
        BY_DISTANCE) | MAP (_.DOCID AS DOCID, _.TITLE AS TITLE, (_.EMBEDDING) euclidean_distance
        @c41 AS DIST)'
    task_count: 225
    task_total_time_ms: 16
    transform_count: 69
    transform_time_ms: 10
    transform_yield_count: 25
    insert_time_ms: 0
    insert_new_count: 20
    insert_reused_count: 1
-   query: EXPLAIN select docId from documents where zone = 'zone1' and bookshelf
        = 'fiction' and row_number() over (partition by zone, bookshelf order by euclidean_distance(embedding,
        ?) asc) <= ?
    explain: 'ISCAN(DOCUMENTSEUCLIDEANINDEX [EQUALS promote(@c8 AS STRING), EQUALS
        promote(@c12 AS STRING)]:{DISTANCE_RANK_LESS_THAN_OR_EQUAL @c30: @c36}:[]
        BY_DISTANCE) | MAP (_.DOCID AS DOCID)'
    task_count: 225
    task_total_time_ms: 13
    transform_count: 69
    transform_time_ms: 8
    transform_yield_count: 25
    insert_time_ms: 0
    insert_new_count: 20
    insert_reused_count: 1
-   query: EXPLAIN select docId from documents where zone = 'zone1' and bookshelf
        = 'science' and row_number() over (partition by zone, bookshelf order by euclidean_distance(embedding,
        ?) asc) <= 1
    explain: 'ISCAN(DOCUMENTSEUCLIDEANINDEX [EQUALS promote(@c8 AS STRING), EQUALS
        promote(@c12 AS STRING)]:{DISTANCE_RANK_LESS_THAN_OR_EQUAL @c30: @c36}:[]
        BY_DISTANCE) | MAP (_.DOCID AS DOCID)'
    task_count: 225
    task_total_time_ms: 27
    transform_count: 69
    transform_time_ms: 16
    transform_yield_count: 25
    insert_time_ms: 1
    insert_new_count: 20
    insert_reused_count: 1
-   query: EXPLAIN select docId from documents where zone = 'zone1' and bookshelf
        = 'fiction' and row_number() over (partition by zone, bookshelf order by euclidean_distance(embedding,
        ?) asc) <= 5
    explain: 'ISCAN(DOCUMENTSEUCLIDEANINDEX [EQUALS promote(@c8 AS STRING), EQUALS
        promote(@c12 AS STRING)]:{DISTANCE_RANK_LESS_THAN_OR_EQUAL @c30: @c36}:[]
        BY_DISTANCE) | MAP (_.DOCID AS DOCID)'
    task_count: 225
    task_total_time_ms: 27
    transform_count: 69
    transform_time_ms: 16
    transform_yield_count: 25
    insert_time_ms: 1
    insert_new_count: 20
    insert_reused_count: 1
-   query: EXPLAIN select title from documents where zone = 'zone1' and bookshelf
        = 'fiction' and (row_number() over (partition by zone, bookshelf order by
        cosine_distance(embedding, ?) asc) <= 1 or row_number() over (partition by
        zone, bookshelf order by euclidean_distance(embedding, ?) asc) <= 1)
    explain: 'COVERING(DOCUMENTSCOSINEINDEX [EQUALS promote(@c8 AS STRING), EQUALS
        promote(@c12 AS STRING)]:{DISTANCE_RANK_LESS_THAN_OR_EQUAL @c31: @c37}:[]
        BY_DISTANCE -> [BOOKSHELF: KEY:[1], EMBEDDING: VALUE:[0], ZONE: KEY:[0]])
        âŠŽ COVERING(DOCUMENTSEUCLIDEANINDEX [EQUALS promote(@c8 AS STRING), EQUALS
        promote(@c12 AS STRING)]:{DISTANCE_RANK_LESS_THAN_OR_EQUAL @c55: @c37}:[]
        BY_DISTANCE -> [BOOKSHELF: KEY:[1], EMBEDDING: VALUE:[0], ZONE: KEY:[0]])
        | DISTINCT BY PK | FETCH | MAP (_.TITLE AS TITLE)'
    task_count: 608
    task_total_time_ms: 59
    transform_count: 166
    transform_time_ms: 42
    transform_yield_count: 51
    insert_time_ms: 3
    insert_new_count: 61
    insert_reused_count: 9
